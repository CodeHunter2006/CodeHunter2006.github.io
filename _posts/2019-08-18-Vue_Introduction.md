---
layout: post
title:  "Vue介绍"
date:   2019-08-18 23:00:00 +0800
tags: Vue
---
![Vue](/assets/images/2019-08-18-Vue_Introduction_1.png)
PS:最近入坑Vue，发现了个宝藏，要好好总结。

# Feature(功能/特性)
Vue读作/vju:/(与view同音)，是一个基于js的前端渐进式框架。它按照MVVM模式设计，专注于View层。

## 界面及数据互动更新
Vue对象可以与一个Dom对象绑定(两者可以是复杂嵌套对象)，底层数据的任何变化（经过过滤）都可以表达在界面上，而input类型的Dom对象的任何输入变化也都可以(经过过滤，将有效值
)自动写入绑定的底层数据对象。这就是MVVM模式的基本逻辑。

## 渐进式
Vue的渐进式搭建方法可以让你从小到大不同规模下使用Vue，从而进行平滑过度。
（TODO 补充细节）单文件 模板 组件 多文件组件 Node.js编译服务 异步服务器交互

## 语法易用
Vue语法设计非常人性化，稍做适应就能很容易的实现原本大量代码才能实现的功能，适合极限编程。

## 社区活跃、组件丰富
由于Vue优秀的性能、人性化的语法、完整的文档，吸引了大量开源社区力量开发了丰富的组件。例如知名的element(饿了么组件)提供丰付的UI组件、storybook响应式UI开发及测试组件等。同时文档、教学视频资源丰富，很容易上手，形成了良性社区。

前置技术：
* HTML+CSS+JavaScript，Vue是一个Web前端框架，所以基础是需要的。
* MVC(Model View Controller)设计模式(24种常见设计模式的综合模式)，Vue是MVVM设计模式(MVC设计模式的增强版)，所以理解基本设计模式有助于理解Vue。
* Ajax(Asynchronous Javascript And XML)，Vue可以看做Ajax的延伸，只对局部HTML元素用JavaScrip进行操作，通过HTTP请求与服务端通信。

# 关键机制

## 观察者模式
(TODO 观察者 监听树)
Vue的基本设计思路就是通过观察者模式对Vue对象中的数据等进行监听，然后做出合理的动作，围绕变化的对象进行工作，避免轮训造成性能低下。而这种监听是自动建立的，只要我们不要违反Vue的设计框架，就能轻松使用。观察者与被观察者之间可以是多对多的关系，形成双向的树形结构，当被监听的对象发生变化时会通知相关对象，形成通知链。
* 对于一个Vue对象，其中的数据(data、computed字段)都是被监听的，而这种监听实际上是在上面封装一层对象实现的，所以我们在使用时注意不要对Vue对象随意增加属性，要么在创建时就存在、要么通过`$set`操作增加，否则会导致数据变化不能被监听到。
* 对于一个Vue对象，我们通常通过this指针操作它的属性和函数，所以在函数绑定时要注意，箭头函数可能会造成this指针问题，除非你知道什么时候该用箭头函数。
* 在进行监听链设计时，要单向依赖，避免形成环装依赖。

## 缓存机制
Vue对象的computed属性可以根据data数据动态计算结果（比如根据各项属性值综合决定称号），多个computed和被使用的数据(data、computed)之间可以形成网络结构。当computed被读取时，会形成一系列连锁计算。为避免每次读取都要重新计算，Vue会对上一次的运算结果进行缓存，只有在网络末端数据发生变化后才会重新计算，在方便的同时性能没有任何多余损耗。

## 组件(对象)间通信

### 父组件调用子组件(向子对象传递消息)
* (不推荐)1.可以直接通过`this.$refs.子对象.方法()`调用，但是这种调用方法没有利用好Vue的数据驱动模式，并且耦合性高。
* (推荐)2.父对象通过prop参数在子对象构造时传入并绑定子对象监听函数，当参数对象发生改变时双方都能做出响应。

### 子组件调用父组件函数
* (不推荐)1.子组件通过`this.$parent.方法()`直接调用，同样的耦合姓高。
* (推荐)2.子组件通过`$emit`向上抛出某种消息，由父组件决定捕获这种消息后怎样处理。

### 非子父关系的组件间通信
通过对VueX对象的监听、mutation赋值、getter查询进行间接通信。
